(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(t,e,a){t.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3ymfv",image:"ImageGalleryItem_image__2hD8m"}},12:function(t,e,a){t.exports={buttonBox:"Button_buttonBox__172E2",Button:"Button_Button__1nYsp"}},26:function(t,e,a){t.exports={ImageGallery:"ImageGallery_ImageGallery__2G0bq"}},27:function(t,e,a){t.exports={Notify:"Notify_Notify__36pmP"}},28:function(t,e,a){t.exports={App:"App_App__19Its"}},34:function(t,e,a){},5:function(t,e,a){t.exports={Searchbar:"Searchbar_Searchbar__3vVek",SearchForm:"Searchbar_SearchForm__hvPks",button:"Searchbar_button__1qlLC",label:"Searchbar_label__3cVBX",input:"Searchbar_input__23OTU"}},74:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a(0),c=a.n(s),r=a(22),o=a.n(r),u=(a(34),a(13)),i=a(4),l=a(23),m=a.n(l),b=a(10),g=a.n(b),j=a(24),h=a(25),p=a.n(h),d=a(2),f=a.n(d),O=function(){var t=Object(j.a)(g.a.mark((function t(e,a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat("18895827-cf969cabaa6d7255b0d8616bb","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();O.propTypes={searchQuery:f.a.string.isRequired,page:f.a.number.isRequired};var _=O,x=a(5),v=a.n(x),y=function(t){var e=t.onSubmit,a=Object(s.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(n.jsx)("header",{className:v.a.Searchbar,children:Object(n.jsxs)("form",{className:v.a.SearchForm,onSubmit:function(t){t.preventDefault(),e(r)},children:[Object(n.jsx)("button",{type:"submit",className:v.a.button,children:Object(n.jsx)("span",{className:v.a.label,children:"Search"})}),Object(n.jsx)("input",{className:v.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(t){o(t.target.value)}})]})})},S=a(11),I=a.n(S),N=function(t){var e=t.image,a=t.toggleModal;return Object(n.jsx)("li",{className:I.a.ImageGalleryItem,children:Object(n.jsx)("img",{className:I.a.image,src:e.webformatURL,alt:e.tags,onClick:function(){a({status:!0,src:e.largeImageURL,alt:e.tags})}})})},w=a(26),k=a.n(w),M=function(t){var e=t.images,a=t.toggleModal;return Object(n.jsx)("ul",{className:k.a.ImageGallery,children:e.map((function(t){return Object(n.jsx)(N,{image:t,toggleModal:a},t.id)}))})},B=a(27),G=a.n(B),C=function(t){var e=t.message;return Object(n.jsx)("p",{className:G.a.Notify,children:e})},E=a(8),F=a.n(E),q=function(t){var e=t.src,a=t.alt,c=t.toggleModal;Object(s.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(t){"Escape"!==t.key&&t.target!==t.currentTarget||c({status:!1})};return Object(n.jsx)("div",{className:F.a.Overlay,onClick:r,children:Object(n.jsx)("div",{className:F.a.Modal,children:Object(n.jsx)("img",{className:F.a.img,src:e,alt:a})})})},L=a(12),T=a.n(L),A=function(t){var e=t.onClick;return Object(n.jsx)("div",{className:T.a.buttonBox,children:Object(n.jsx)("button",{type:"button",className:T.a.Button,onClick:e,children:"Load more"})})},R=a(28),U=a.n(R),H=function(){var t=Object(s.useState)([]),e=Object(i.a)(t,2),a=e[0],c=e[1],r=Object(s.useState)(""),o=Object(i.a)(r,2),l=o[0],b=o[1],g=Object(s.useState)(1),j=Object(i.a)(g,2),h=j[0],p=j[1],d=Object(s.useState)(!1),f=Object(i.a)(d,2),O=f[0],x=f[1],v=Object(s.useState)({status:!1,message:""}),S=Object(i.a)(v,2),I=S[0],N=S[1],w=Object(s.useState)({status:!1,targetImage:null}),k=Object(i.a)(w,2),B=k[0],G=k[1],E=Object(s.useState)(!1),F=Object(i.a)(E,2),L=F[0],T=F[1];function R(t,e){if(""===t)return c([]),T(!1),void N({status:!0,message:"Please input search request"});x(!0),N({status:!1,message:""}),_(t,e).then((function(t){var n,s;1===e?c(t.hits):(c((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.hits))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})),n=t.totalHits,s=a.length+t.hits.length,T(n>s),N(n?{status:!1,message:""}:{status:!0,message:"Nothing was found. Try again."}),p((function(t){return t+1}))})).catch((function(t){return N({status:!0,message:"Something wrong: ".concat(t.message)})})).finally((function(){return x(!1)}))}Object(s.useEffect)((function(){p(1),R(l,1)}),[l]);var H=function(t){var e=t.status,a=t.src,n=t.alt;G(e?{status:!0,targetImage:{src:a,alt:n}}:{status:!1,targetImage:null})};return Object(n.jsxs)("div",{className:U.a.App,children:[Object(n.jsx)(y,{onSubmit:b}),I.status&&Object(n.jsx)(C,{message:I.message}),O&&Object(n.jsx)(m.a,{type:"Circles",color:"#00BFFF",height:80,width:80}),a.length>0&&Object(n.jsx)(M,{images:a,toggleModal:H}),B.status&&Object(n.jsx)(q,{src:B.targetImage.src,alt:B.targetImage.alt,toggleModal:H}),L&&Object(n.jsx)(A,{onClick:function(){return R(l,h)}})]})};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))},8:function(t,e,a){t.exports={Overlay:"Modal_Overlay__1YbmH",Modal:"Modal_Modal__28Uk_"}}},[[74,1,2]]]);
//# sourceMappingURL=main.7cb83161.chunk.js.map