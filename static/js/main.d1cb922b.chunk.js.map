{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Notify/Notify.module.css","App.module.css","Components/Searchbar/Searchbar.module.css","Services/apiService.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Notify/Notify.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","index.js","Components/Modal/Modal.module.css"],"names":["module","exports","fetchImage","searchQuery","page","a","axios","get","response","data","propTypes","PropTypes","string","isRequired","number","Searchbar","onSubmit","useState","setSearchQuery","className","s","SearchForm","evt","preventDefault","type","button","label","input","autoComplete","autoFocus","placeholder","value","onChange","target","ImageGalleryItem","image","toggleModal","src","webformatURL","alt","tags","onClick","status","largeImageURL","ImageGallery","images","map","id","Notify","message","Modal","useEffect","window","addEventListener","checkEvent","removeEventListener","key","currentTarget","Overlay","img","Button","buttonBox","App","setImages","setPage","isLoading","setIsLoading","error","setError","notify","setNotify","setMessage","showPopup","setShowPopup","showButton","setShowButton","targetImage","setTargetImage","searchImages","then","hits","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","total","current","checkButtonAndNotify","totalHits","length","catch","finally","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d1cb922b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3ymfv\",\"image\":\"ImageGalleryItem_image__2hD8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBox\":\"Button_buttonBox__172E2\",\"Button\":\"Button_Button__1nYsp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2G0bq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notify\":\"Notify_Notify__36pmP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__19Its\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3vVek\",\"SearchForm\":\"Searchbar_SearchForm__hvPks\",\"button\":\"Searchbar_button__1qlLC\",\"label\":\"Searchbar_label__3cVBX\",\"input\":\"Searchbar_input__23OTU\"};","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst KEY = '18895827-cf969cabaa6d7255b0d8616bb';\n\nconst fetchImage = async (searchQuery, page) => {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return response.data;\n};\n\nfetchImage.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired\n}\n\nexport default fetchImage;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const changeInput = evt => {\n    setSearchQuery(evt.target.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    onSubmit(searchQuery);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.button}>\n          <span className={s.label}>Search</span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchQuery}\n          onChange={changeInput}\n        />\n      </form>\n    </header>\n  )\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, toggleModal }) => {\n  const onClick = () => {\n    toggleModal({\n      status: true,\n      src: image.largeImageURL,\n      alt: image.tags,\n    });\n  };\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s.image}\n        src={image.webformatURL}\n        alt={image.tags}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  toggleModal: PropTypes.func.isRequired\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, toggleModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          image={image}\n          key={image.id}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Notify.module.css';\n\nconst Notify = ({ message }) => {\n  return <p className={s.Notify}>{message}</p>;\n};\n\nNotify.propTypes = {\n  message: PropTypes.string.isRequired\n}\n\nexport default Notify;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst Modal = ({ src, alt, toggleModal }) => {\n\n  useEffect(() => {\n    window.addEventListener('keydown', checkEvent);\n    return () => {\n      window.removeEventListener('keydown', checkEvent);\n    }\n  })\n\n  const checkEvent = evt => {\n    if (evt.key === 'Escape' || evt.target === evt.currentTarget) {\n      toggleModal({ status: false });\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={checkEvent}>\n      <div className={s.Modal}>\n        <img className={s.img} src={src} alt={alt} />\n      </div>\n    </div>\n  )\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired\n}\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.buttonBox}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n}\n\nexport default Button;\n","import { useState, useEffect } from 'react';\nimport Loader from 'react-loader-spinner';\nimport fetchImage from './Services/apiService';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Notify from './Components/Notify';\nimport Modal from './Components/Modal';\nimport Button from './Components/Button';\nimport s from './App.module.css';\n\nconst App = () => {\n  const [images, setImages] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [notify, setNotify] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [showPopup, setShowPopup] = useState(false);\n  const [showButton, setShowButton] = useState(false);\n  const [targetImage, setTargetImage] = useState(null);\n\n  useEffect(() => {\n    setPage(1);\n    searchImages(searchQuery, 1);\n  }, [searchQuery]);\n\n  function searchImages(searchQuery, page) {\n    if (searchQuery === \"\") {\n      setImages([]);\n      setShowButton(false);\n      setMessage(\"Please input search request\");\n      setNotify(true);\n      return;\n    }\n\n    setIsLoading(true);\n    setNotify(false);\n\n    fetchImage(searchQuery, page)\n      .then(data => {\n        if (page === 1) {\n          setImages(data.hits);\n        }\n        else {\n          setImages(prevState => [...prevState, ...data.hits]);\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n\n        checkButtonAndNotify(data.totalHits, images.length + data.hits.length);\n        setPage(prevState => prevState + 1);\n      })\n      .catch(error => setError(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function checkButtonAndNotify(total, current) {\n    if (total > current) {\n      setShowButton(true);\n    } else {\n      setShowButton(false);\n    }\n\n    if (!total) {\n      setMessage(\"Nothing was found. Try again.\");\n      setNotify(true);\n    } else {\n      setNotify(false);\n    }\n  }\n\n  const toggleModal = ({ status, src, alt }) => {\n    if (status) {\n      setTargetImage({ src, alt });\n      setShowPopup(true);\n    } else {\n      setShowPopup(false);\n      setTargetImage(null);\n    }\n  };\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={setSearchQuery} />\n      {error && <Notify message={`Something wrong: ${error.message}`} />}\n      {isLoading && (\n        <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\n      )}\n      {images.length > 0 && (\n        <ImageGallery images={images} toggleModal={toggleModal} />\n      )}\n      {notify && <Notify message={message} />}\n      {showPopup && (\n        <Modal\n          src={targetImage.src}\n          alt={targetImage.alt}\n          toggleModal={toggleModal}\n        />\n      )}\n      {showButton && <Button onClick={() => searchImages(searchQuery, page)} />}\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1YbmH\",\"Modal\":\"Modal_Modal__28Uk_\"};"],"sourceRoot":""}